# Strategy selection
STRATEGY_SPEC_PATH: "strategies/donch_pullback_long.yaml"

# Sizing
RISK_MODE: "cash"           # or "percent"
RISK_USD: 20.0              # used if RISK_MODE="cash"
RISK_EQUITY_PCT: 0.01       # used if RISK_MODE="percent"
MIN_TRADE_AUTOPAD_ENABLED: false
MIN_TRADE_AUTOPAD_CAP_USD: 5.0

# Exits: SL/TP via ATR(1h)
SL_ATR_MULT: 2.0
FINAL_TP_ENABLED: true
PARTIAL_TP_ENABLED: false   # per spec: no partials
TRAIL_DISTANCE_ATR_MULT: 0.0  # trailing OFF
TIME_EXIT_HOURS_ENABLED: true
TIME_EXIT_HOURS: 72

# Throughput
SYMBOL_COOLDOWN_HOURS: 4
SCAN_INTERVAL_SEC: 60

DEDUP_WINDOW_HOURS: 2

# where you scpâ€™d the artifact
WINPROB_MODEL_DIR: "results/meta_export"
WINPROB_ARTIFACT_DIR: results/meta_export

# live gate; can be tuned without re-exporting the model
MIN_WINPROB_TO_TRADE: 0.60
ETH_BAROMETER_ENABLED: true        # as requested for testing
REGIME_BLOCK_WHEN_DOWN: false       # let entries through while testing
# optional sizing-by-prob (already supported in your bot)
WINPROB_SIZING_ENABLED: true
WINPROB_MIN_MULTIPLIER: 0.50
WINPROB_MAX_MULTIPLIER: 2.00
WINPROB_PROB_FLOOR: 0.60
WINPROB_PROB_CAP: 0.90


UNIVERSE_CTX_REFRESH_MIN: 1440 
DEBUG_SIGNAL_DIAG: true


UNIVERSE_CACHE_ENABLED: true
UNIVERSE_CACHE_TTL_MIN: 1440        # rebuild after 24h (tweak as you like)
UNIVERSE_CACHE_PATH: "universe_cache.json"
UNIVERSE_CACHE_REQUIRE_SYMBOLS_MATCH: true

DEBUG_SIGNAL_DIAG: true
DEBUG_SCORE_META_ON_REJECT: true


RS_MIN_PERCENTILE: 70
LIQ_MIN_24H_USD: 500000
DON_N_DAYS: 20





# correlation guard
CORR_GUARD_ENABLED: false
CORR_TIMEFRAME: "1h"
CORR_LOOKBACK_BARS: 500
CORR_METHOD: "spearman"
CORR_MAX_AVG: 0.90

# correlation sizing (optional)
CORR_SIZING_ENABLED: true
CORR_SIZING_RHO_LO: 0.60
CORR_SIZING_RHO_HI: 0.90
CORR_SIZING_LO: 0.70
CORR_SIZING_HI: 1.00




# --- OI & Funding feature pack (meta-model parity) ---
OI_FUNDING_FEATURES_ENABLED: true
OI_TIMEFRAME: "5m"                 # 5m base grid
OI_LOOKBACK_DAYS: 7                # to compute 7d z-scores
FUNDING_LOOKBACK_DAYS: 7           # forward-filled to 5m
FUNDING_UPSAMPLE_TO_5M: true       # keep on by default (matches training)
META_REQUIRED: true                # (optional) fail-closed on feature mismatch